###################################################################################################################################################
# REGRESSION TESTS BASED ON NEMSFV3GFS CONTROL SUITE                                                                                              #
###################################################################################################################################################
# Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for control run
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated.xml                              | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated.xml                              | standard    | cheyenne.intel |             |
# Run tests with static CCPP add-on
RUN     | fv3_ccpp_control                                                                                        | standard    |                | fv3         |
RUN     | fv3_ccpp_decomp                                                                                         | standard    |                |             |
RUN     | fv3_ccpp_2threads                                                                                       | standard    |                |             |
RUN     | fv3_ccpp_restart                                                                                        | standard    |                | fv3         |
RUN     | fv3_ccpp_read_inc                                                                                       | standard    |                | fv3         |
RUN     | fv3_ccpp_wrtGauss_netcdf_esmf                                                                           | standard    |                | fv3         |
RUN     | fv3_ccpp_wrtGauss_netcdf                                                                                | standard    |                | fv3         |
RUN     | fv3_ccpp_wrtGauss_nemsio                                                                                | standard    |                | fv3         |
RUN     | fv3_ccpp_wrtGauss_nemsio_c192                                                                           | standard    |                | fv3         |
RUN     | fv3_ccpp_wrtGauss_nemsio_c768                                                                           | standard    |                | fv3         |
RUN     | fv3_ccpp_stochy                                                                                         | standard    |                | fv3         |
RUN     | fv3_ccpp_iau                                                                                            | standard    |                | fv3         |
# Run one test using the NEMSAppBuilder, to ensure we don't break it: # DH* TRANSITION MISSING
APPBUILD| CCPP_static_trans                                                                                       | standard    | theia.intel    |             |
APPBUILD| CCPP_static_trans                                                                                       | standard    | cheyenne.intel |             |
RUN     | fv3_ccpp_appbuild                                                                                       | standard    |                |             |
# Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for control run, 32-bit dynamics
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated.xml 32BIT=Y                      | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated.xml 32BIT=Y                      | standard    | cheyenne.intel |             |
RUN     | fv3_ccpp_control_32bit                                                                                  | standard    |                | fv3         |
# Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for control run, 32-bit dynamics
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_stretched.xml 32BIT=Y            | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_stretched.xml 32BIT=Y            | standard    | cheyenne.intel |             |
RUN     | fv3_ccpp_stretched                                                                                      | standard    |                | fv3         |
RUN     | fv3_ccpp_stretched_nest                                                                                 | standard    |                | fv3         |
## Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for control run, 32-bit dynamics
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_gfdlmp_regional.xml 32BIT=Y      | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_gfdlmp_regional.xml 32BIT=Y      | standard    | cheyenne.intel |             |
RUN     | fv3_ccpp_regional_control                                                                               | standard    |                | fv3         |
RUN     | fv3_ccpp_regional_restart                                                                               | standard    |                | fv3         |
# fv3_ccpp_regional_quilt not working on Cheyenne, code aborts with invalid values
# for surface pressure, out of range warnings and all other sorts of errors
RUN     | fv3_ccpp_regional_quilt                                                                                 | standard    | theia.intel    | fv3         |
## Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option, 32-bit dynamics
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_gfdlmp_regional_c768.xml 32BIT=Y | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_gfdlmp_regional_c768.xml 32BIT=Y | standard    | cheyenne.intel |             |
# fv3_ccpp_regional_c768 not working on Cheyenne, code aborts with invalid values
# for surface pressure, out of range warnings and all other sorts of errors
RUN     | fv3_ccpp_regional_c768                                                                                  | standard    | theia.intel    | fv3         |
# 32-bit DEBUG COMING FROM 32-bit commit
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated.xml 32BIT=Y DEBUG=Y              | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated.xml 32BIT=Y DEBUG=Y              | standard    | cheyenne.intel |             |
RUN     | fv3_ccpp_control_debug                                                                                  | standard    |                | fv3         |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_stretched.xml 32BIT=Y DEBUG=Y    | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_stretched.xml 32BIT=Y DEBUG=Y    | standard    | cheyenne.intel |             |
RUN     | fv3_ccpp_stretched_nest_debug                                                                           | standard    |                | fv3         |
###################################################################################################################################################
# OTHER NEMSFV3GFS REGRESSION TESTS                                                                                                               #
###################################################################################################################################################
# Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for GFDL MP run
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_gfdlmp.xml                       | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_gfdlmp.xml                       | standard    | cheyenne.intel |             |
# Run tests with static CCPP add-on
RUN     | fv3_ccpp_gfdlmp                                                                                         | standard    |                | fv3         |
# Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for csawmgshoc run
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_csawmgshoc.xml                   | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_csawmgshoc.xml                   | standard    | cheyenne.intel |             |
# Run tests with static CCPP add-on
RUN     | fv3_ccpp_csawmgshoc                                                                                     | standard    |                | fv3         |
RUN     | fv3_ccpp_csawmg3shoc127                                                                                 | standard    |                | fv3         |
## Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for csawmg run
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_csawmg.xml                       | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_csawmg.xml                       | standard    | cheyenne.intel |             |
## Run tests with static CCPP add-on
RUN     | fv3_ccpp_csawmg                                                                                         | standard    |                | fv3         |
# Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for satmedmf run
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_satmedmf.xml                     | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_satmedmf.xml                     | standard    | cheyenne.intel |             |
# Run tests with static CCPP add-on
RUN     | fv3_ccpp_satmedmf                                                                                       | standard    |                | fv3         |
###################################################################################################################################################
## ADDITIONAL GMTB REGRESSION TESTS                                                                                                               #
###################################################################################################################################################
# Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for GFDL MP run, 32-bit dynamics
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_gfdlmp.xml 32BIT=Y               | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_2017_updated_gfdlmp.xml 32BIT=Y               | standard    | cheyenne.intel |             |
# Run tests with static CCPP add-on (currently gfdlmp doesn't work with PGI), 32-bit dynamics
RUN     | fv3_ccpp_gfdlmp_32bit                                                                                   | standard    | theia.intel    | fv3         |
RUN     | fv3_ccpp_gfdlmp_32bit                                                                                   | standard    | cheyenne.intel | fv3         |
###################################################################################################################################################
# REGRESSION TESTS BASED ON PHYSICS TESTING SUITES SUITE                                                                                          #
###################################################################################################################################################
# Compile with CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), static option for CPT advanced run
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_CPT_advanced.xml                                  | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y CCPP=Y HYBRID=N STATIC=Y SUITE=suite_FV3_CPT_advanced.xml                                  | standard    | cheyenne.intel |             |
# Run tests with static CCPP add-on (currently gfdlmp doesn't work with PGI)
RUN     | fv3_ccpp_cpt                                                                                            | standard    |                | fv3         |
## Compile with CCPP (uses Intel 15 on Theia), static option, 32-bit dynamics
COMPILE | CCPP=Y INTEL18=Y REPRO=Y HYBRID=N STATIC=Y SUITE=suite_FV3_GFS_suite2.xml 32BIT=Y                       | standard    | theia.intel    |             |
RUN     | fv3_ccpp_suite2                                                                                         | standard    | theia.intel    | fv3         |