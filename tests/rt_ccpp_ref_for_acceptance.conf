###############################################################################################################################################
# REGRESSION TESTS BASED ON NEMSFV3GFS CONTROL SUITE                                                                                          #
###############################################################################################################################################
# Compile without CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne)
COMPILE | TRANSITION=Y                                                                           | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y                                                                           | standard    | cheyenne.intel |             |
RUN     | fv3_control                                                                            | standard    |                | fv3         |
RUN     | fv3_decomp                                                                             | standard    |                |             |
RUN     | fv3_2threads                                                                           | standard    |                |             |
RUN     | fv3_restart                                                                            | standard    |                | fv3         |
RUN     | fv3_read_inc                                                                           | standard    |                | fv3         |
RUN     | fv3_wrtGauss_netcdf_esmf                                                               | standard    |                | fv3         |
RUN     | fv3_wrtGauss_netcdf                                                                    | standard    |                | fv3         |
RUN     | fv3_wrtGauss_nemsio                                                                    | standard    |                | fv3         |
RUN     | fv3_wrtGauss_nemsio_c192                                                               | standard    |                | fv3         |
RUN     | fv3_wrtGauss_nemsio_c768                                                               | standard    |                | fv3         |
RUN     | fv3_stochy                                                                             | standard    |                | fv3         |
RUN     | fv3_iau                                                                                | standard    |                | fv3         |
# Run one test using the NEMSAppBuilder, to ensure we don't break it: # DH* TRANSITION MISSING
APPBUILD| CCPP_ref_trans                                                                         | standard    | theia.intel    |             |
APPBUILD| CCPP_ref_trans                                                                         | standard    | cheyenne.intel |             |
RUN     | fv3_appbuild                                                                           | standard    |                |             |
# Compile without CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), 32-bit dynamics
COMPILE | TRANSITION=Y 32BIT=Y                                                                   | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y 32BIT=Y                                                                   | standard    | cheyenne.intel |             |
RUN     | fv3_control_32bit                                                                      | standard    |                | fv3         |
RUN     | fv3_stretched                                                                          | standard    |                | fv3         |
RUN     | fv3_stretched_nest                                                                     | standard    |                | fv3         |
RUN     | fv3_regional_control                                                                   | standard    |                | fv3         |
RUN     | fv3_regional_restart                                                                   | standard    |                | fv3         |
# fv3_regional_quilt/fv3_regional_c768 not working on Cheyenne, code aborts with invalid values
# for surface pressure, out of range warnings and all other sorts of errors
RUN     | fv3_regional_quilt                                                                     | standard    | theia.intel    | fv3         |
RUN     | fv3_regional_c768                                                                      | standard    | theia.intel    | fv3         |
# Compile without CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), debug mode, 32-bit dynamics
COMPILE | TRANSITION=Y 32BIT=Y DEBUG=Y                                                           | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y 32BIT=Y DEBUG=Y                                                           | standard    | cheyenne.intel |             |
RUN     | fv3_control_debug                                                                      | standard    |                | fv3         |
RUN     | fv3_stretched_nest_debug                                                               | standard    |                | fv3         |
###############################################################################################################################################
# OTHER NEMSFV3GFS REGRESSION TESTS                                                                                                           #
###############################################################################################################################################
# Compile without CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne)
COMPILE | TRANSITION=Y                                                                           | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y                                                                           | standard    | cheyenne.intel |             |
RUN     | fv3_gfdlmp                                                                             | standard    |                | fv3         |
RUN     | fv3_csawmgshoc                                                                         | standard    |                | fv3         |
RUN     | fv3_csawmg3shoc127                                                                     | standard    |                | fv3         |
RUN     | fv3_csawmg                                                                             | standard    |                | fv3         |
RUN     | fv3_satmedmf                                                                           | standard    |                | fv3         |
################################################################################################################################################
## ADDITIONAL GMTB REGRESSION TESTS                                                                                                            #
################################################################################################################################################
## Compile without CCPP (uses Intel 15 on Theia and Intel 18 on Cheyenne), 32-bit dynamics
COMPILE | TRANSITION=Y 32BIT=Y                                                                   | standard    | theia.intel    |             |
COMPILE | TRANSITION=Y 32BIT=Y                                                                   | standard    | cheyenne.intel |             |
RUN     | fv3_gfdlmp_32bit                                                                       | standard    | theia.intel    | fv3         |
RUN     | fv3_gfdlmp_32bit                                                                       | standard    | cheyenne.intel | fv3         |
###############################################################################################################################################
# REGRESSION TESTS BASED ON PHYSICS TESTING SUITES SUITE                                                                                      #
###############################################################################################################################################
# Run tests with static CCPP add-on (currently gfdlmp doesn't work with PGI)
RUN     | fv3_cpt                                                                                | standard    |                | fv3         |
RUN     | fv3_suite2                                                                             | standard    |                | fv3         |